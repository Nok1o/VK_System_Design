openapi: 3.0.1
info:
  title: Steam API
  description: Äîêóìåíòàöèÿ äëÿ API Steam, âêëþ÷àÿ àâòîðèçàöèþ è äîïîëíèòåëüíûå ôóíêöèè.
  version: 1.0.0

servers:
  - url: https://api.steampowered.com

paths:
  /api/auth/login:
    post:
      summary: "Àâòîðèçàöèÿ ïîëüçîâàòåëÿ"
      description: "Ïðîöåññ àâòîðèçàöèè ïîëüçîâàòåëÿ ñ èñïîëüçîâàíèåì OAuth2."
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                  description: "Èìÿ ïîëüçîâàòåëÿ"
                password:
                  type: string
                  description: "Ïàðîëü ïîëüçîâàòåëÿ"
      responses:
        '200':
          description: "Óñïåøíàÿ àâòîðèçàöèÿ"
          content:
            application/json:
              schema:
                type: object
                properties:
                  access_token:
                    type: string
                    description: "OAuth2 òîêåí äëÿ àâòîðèçàöèè"
        '400':
          description: "Íåâåðíûå äàííûå äëÿ àâòîðèçàöèè"
          
  /api/steam/webapi:
    post:
      summary: "Âçàèìîäåéñòâèå ñ WebAPI Steam"
      description: "Ïîçâîëÿåò îòïðàâëÿòü çàïðîñû â WebAPI Steam ñ èñïîëüçîâàíèåì OAuth2 òîêåíà"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                access_token:
                  type: string
                  description: "OAuth2 òîêåí äëÿ àâòîðèçàöèè"
                interface:
                  type: string
                  description: "Èíòåðôåéñ WebAPI"
                method:
                  type: string
                  description: "Ìåòîä äëÿ âûïîëíåíèÿ"
                params:
                  type: object
                  description: "Ïàðàìåòðû äëÿ ìåòîäà"
      responses:
        '200':
          description: "Óñïåøíûé îòâåò îò WebAPI"
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                    description: "Óñïåõ çàïðîñà"
                  data:
                    type: object
                    description: "Îòâåòíûå äàííûå îò WebAPI"
        '400':
          description: "Îøèáêà ïðè âûïîëíåíèè çàïðîñà"
  /api/user/context:
    get:
      summary: "Ïîëó÷èòü èíôîðìàöèþ î òåêóùåì êîíòåêñòå ïîëüçîâàòåëÿ"
      description: "Âîçâðàùàåò èíôîðìàöèþ î òîì, â êàêîì êîíòåêñòå ðàáîòàåò ïîëüçîâàòåëü (Steam êëèåíò, èãðà, ìîáèëüíîå ïðèëîæåíèå è ò. ä.)"
      responses:
        '200':
          description: "Èíôîðìàöèÿ î êîíòåêñòå ïîëüçîâàòåëÿ"
          content:
            application/json:
              schema:
                type: object
                properties:
                  inSteamClient:
                    type: boolean
                    description: "Ïîëüçîâàòåëü â Steam êëèåíòå"
                  inGameOverlay:
                    type: boolean
                    description: "Ïîëüçîâàòåëü â îâåðëåé-ðåæèìå èãðû"
                  inSteamTenfootBrowser:
                    type: boolean
                    description: "Ïîëüçîâàòåëü â 10-ôóòîâîì áðàóçåðå Steam"
                  inMobileChat:
                    type: boolean
                    description: "Ïîëüçîâàòåëü â ìîáèëüíîì ÷àòå Steam"
                  inMobileApp:
                    type: boolean
                    description: "Ïîëüçîâàòåëü â ìîáèëüíîì ïðèëîæåíèè Steam"
